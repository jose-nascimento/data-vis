<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Title of the document</title>
    <link rel="stylesheet" href="d3-data.css" />

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script>
      function ts() {
        var width = 10240,
          height = 1024,
          svg = d3
            .select('#wrapper')
            .attr(
              'style',
              'padding-bottom: ' + Math.ceil((height * 100) / width) + '%'
            )
            .append('svg')
            .attr('viewBox', '0 0 ' + width + ' ' + height);

        var x = d3.scaleLinear().rangeRound([0, width]);
        var y = d3.scaleLinear().rangeRound([height, 0]);

        var spaceDsvParser = d3.dsvFormat(' ');
        d3.request('https://gordonlesti.com/media/post/d3-time-series-example/timeseries.csv')
          .mimeType('text/csv')
          .response(function(xhr) {
            return spaceDsvParser.parse(xhr.responseText);
          })
          .get(function(error, data) {
            if (error) throw error;

            x.domain([0, data.length]);
            y.domain([-16, 16]);

            function drawAxis(yValueCallback, color) {
              svg
                .append('path')
                .datum(data)
                .attr('fill', 'none')
                .attr('stroke', color)
                .attr('stroke-linejoin', 'round')
                .attr('stroke-linecap', 'round')
                .attr('stroke-width', 5)
                .attr(
                  'd',
                  d3
                    .line()
                    .x(function(d) {
                      return x(d.t);
                    })
                    .y(yValueCallback)
                );
            }
            drawAxis(function(d) {
              return y(d.x);
            }, 'blue');
            drawAxis(function(d) {
              return y(d.y);
            }, 'red');
            drawAxis(function(d) {
              return y(d.z);
            }, 'green');
          });
      }
    </script>
    <script src="d3-data.js"></script>
    <script src="d3-hist.js"></script>
    <script>
      function runner() {
        myApp.run();
        run2();
        ts();
      }
      window.onload = runner;
    </script>
  </head>

  <body>
    <div class="main-container">
      <div class="elem" id="mainDiv"></div>
      <div class="elem" id="hist"></div>
      <div class="elem" id="wrapper"></div>
    </div>
  </body>
</html>
